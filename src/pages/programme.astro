---
// import Listkomponent from "../components/Listkomponent.astro";
import Header from "../components/Header.astro";
import Footercomp from "../components/Footercomp.astro";
import Textbutton from "../components/Textbutton.astro";
import Thatsall from "../components/Thatsall.astro";
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link rel="stylesheet" href="src/styles/tokens.css" />
    <link rel="stylesheet" href="src/styles/global.css" />
    <link rel="stylesheet" href="src/styles/programme.css" />
    <title>Programme</title>
  </head>
  <body>
    <header>
      <Header />
    </header>
    <main>
      <h1>2024 Programme</h1>
      <Textbutton href="#">
        <span slot="label">Sort by</span>
        <svg
          slot="icon"
          width="20"
          height="12"
          viewBox="0 0 20 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.3 6.50684C16.5124 6.50684 17.6102 6.54894 18.2855 6.62733C18.296 6.62733 18.9139 6.705 19.1199 6.75508C19.4172 6.83348 19.6688 6.97502 19.8291 7.15213C19.9438 7.29367 20 7.4432 20 7.59925C19.9895 7.76185 19.8174 8.06743 19.7367 8.18792C19.2346 8.98201 17.5868 10.4998 16.5815 11.0819C16.4211 11.1806 16.2269 11.2873 16.1812 11.3156C15.9284 11.4361 15.6206 11.5 15.2894 11.5C14.991 11.5 14.6937 11.4434 14.4538 11.3294C14.3292 11.275 14.1473 11.1667 14.0641 11.1159L14.0196 11.0884C12.978 10.4932 11.4121 9.01032 10.9089 8.25833C10.8982 8.25833 10.6475 7.88323 10.5968 7.6569L10.5882 7.59925V7.57095C10.5882 7.24431 10.8855 6.93945 11.3665 6.78339C11.6298 6.69847 12.3952 6.62008 12.4069 6.61282C13.0927 6.54894 14.1449 6.50684 15.3 6.50684ZM4.70553 6.54421C5.18478 6.54421 5.57926 6.76764 5.63317 7.05585L5.63945 7.12343L5.89575 9.92154C5.89575 10.3295 5.36325 10.6597 4.70553 10.6597C4.08892 10.6597 3.58133 10.3695 3.52029 9.99706L3.51414 9.92154L3.77161 7.12343C3.77161 6.80334 4.18942 6.54421 4.70553 6.54421ZM4.71173 0.5C5.00783 0.5 5.30509 0.556615 5.54618 0.669846C5.65004 0.715665 5.79368 0.798626 5.88681 0.854404L5.98037 0.911551C7.02079 1.50747 8.58785 2.98963 9.09109 3.7416C9.10075 3.7416 9.35232 4.1173 9.4032 4.34373L9.41177 4.40139V4.4297C9.41177 4.7556 9.11333 5.06045 8.6335 5.21651C8.37017 5.30215 7.60478 5.37982 7.59308 5.38708C6.90727 5.45095 5.85514 5.49305 4.70003 5.49305C3.48757 5.49305 2.38981 5.45095 1.71453 5.37256C1.70282 5.37256 1.08606 5.2949 0.880085 5.24481C0.582823 5.16715 0.331202 5.02488 0.170868 4.84778C0.0561757 4.70624 0 4.55672 0 4.40139C0.0105329 4.23807 0.182571 3.93322 0.262153 3.81273C0.765393 3.01794 2.41204 1.50021 3.41852 0.918809C3.57886 0.819369 3.77313 0.712671 3.81877 0.684363C4.0704 0.563874 4.37936 0.5 4.71173 0.5ZM15.2947 1.34028C15.9113 1.34028 16.4179 1.63055 16.4788 2.00296L16.4849 2.07847L16.2286 4.87664C16.2286 5.19675 15.8108 5.45588 15.2947 5.45588C14.8155 5.45588 14.421 5.23244 14.3671 4.94423L14.3608 4.87664L14.1033 2.07847C14.1033 1.67054 14.637 1.34028 15.2947 1.34028Z"
            fill="#535252"></path>
        </svg>
      </Textbutton>
      <section class="richlistgroup">
        <h2 class="richlisttitle">Saturday 18 March</h2>
        <ul class="richlist" id="listoutput">
          <template
            imgsrc="Gordillo.jpg"
            imgalt="elbita"
            time="saturday 15 15.30"
            location="washroom"
            locationlink="#"
            title="a fun event"
          >
            <span slot="tiletext"
              >Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis,
              at placeat fugit perferendis reiciendis tempore excepturi,
              explicabo distinctio fugiat doloribus id laborum? Voluptatem illo
              voluptatum dolorem necessitatibus ab officiis. Nemo.</span
            >
          </template>
        </ul>
      </section>
      <section>
        <h2>Sunday 19 March</h2>
        <ul class="richlist">
          <template
            imgsrc="Gordillo.jpg"
            imgalt="elbita"
            time="saturday 15 15.30"
            location="washroom"
            locationlink="#"
            title="a fun event"
          >
            <span slot="tiletext"
              >Lorem ipsum dolor sit amet consectetur adipisicing elit. Debitis,
              at placeat fugit perferendis reiciendis tempore excepturi,
              explicabo distinctio fugiat doloribus id laborum? Voluptatem illo
              voluptatum dolorem necessitatibus ab officiis. Nemo.</span
            >
          </template>
        </ul>
      </section>
      <Thatsall />
    </main>
    <footer>
      <Footercomp />
    </footer>
  </body>
  <script>
    document.getElementById("programme.html").style.backgroundColor =
      "var(--nav-bg-current)";
    document.getElementById("programme.html").firstChild.style.color =
      "var(--nav-currentwhite)";

    // DATABASE INTEGRATION
    // I don't think this is the most optimal way to implement the database using components, but it is the only one I could fiure out how to implement.

    console.log("Elba Gordipsum");

    fetch("https://emil42x2-7cd5.restdb.io/rest/programme", {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
        "x-apikey": "64750032e3b58f2cb4300c83",
      },
    })
      .then((response) => response.json())
      .then((data) => {
        let output = '<ul class="richlist" id="listoutput">';
        data.forEach(function (programme) {
          output += `
          <li class="richlistitem">
            <div class="richlistimgcont">
              <img src=${programme.imagepath} />
            </div>
            <div class="richlistdata">
              <h3 class="tiletitle">${programme.title}</h3>
              <span class="tiledesc">${programme.description}</span>
              <div class="details">
                <span>${programme.time}</span><span> ‚óè </span><a href="#">${programme.location}</a>
              </div>
            </div>
            <div id="interactions">
              <p class="helptext">Access is free to all events</p>
              <button class="primaer_knap">
                <span id="your-desktop">Add to your calendar</span>
					      <span id="your-mobile">Add to calendar</span>
                <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14.0552 2.48077e-06C14.5269 -0.00109448 14.8999 0.361724 14.901 0.845481L14.9021 1.67007C17.9628 1.90755 19.9846 3.97231 19.9879 7.13873L20 16.4071C20.0044 19.8594 17.8136 21.9835 14.302 21.989L5.72432 22C2.23467 22.0044 0.0164702 19.8297 0.0120821 16.3675L7.36377e-06 7.20799C-0.00437337 4.02069 1.94615 1.96142 5.00686 1.68326L5.00577 0.858675C5.00467 0.374917 5.36669 0.0109995 5.84938 0.0109995C6.33208 0.00990001 6.6941 0.372718 6.6952 0.856476L6.69629 1.62609L13.2127 1.61729L13.2116 0.84768C13.2105 0.363923 13.5725 0.00110442 14.0552 2.48077e-06ZM14.5028 15.6111H14.4918C13.9872 15.6232 13.5824 16.0421 13.5933 16.5478C13.5944 17.0536 14.0014 17.4702 14.5061 17.4812C15.0206 17.4801 15.4374 17.0613 15.4363 16.5445C15.4363 16.0278 15.0184 15.6111 14.5028 15.6111ZM5.46323 15.6122C4.9586 15.6342 4.56366 16.0531 4.56476 16.5588C4.5878 17.0646 5.00467 17.4604 5.5093 17.4373C6.00407 17.4153 6.3979 16.9964 6.37486 16.4906C6.36389 15.9959 5.95689 15.6111 5.46323 15.6122ZM9.983 15.6067C9.47836 15.6298 9.08453 16.0476 9.08453 16.5533C9.10757 17.0591 9.52444 17.4538 10.0291 17.4318C10.5227 17.4087 10.9177 16.9909 10.8946 16.484C10.8837 15.9904 10.4767 15.6056 9.983 15.6067ZM5.45774 11.6542C4.95311 11.6762 4.55928 12.095 4.56037 12.6008C4.58231 13.1065 5.00028 13.5023 5.50492 13.4792C5.99858 13.4573 6.39241 13.0384 6.36938 12.5326C6.35841 12.0379 5.95251 11.6531 5.45774 11.6542ZM9.97861 11.6157C9.47398 11.6377 9.07904 12.0566 9.08014 12.5623C9.10208 13.0681 9.52005 13.4628 10.0247 13.4408C10.5183 13.4177 10.9122 12.9999 10.8902 12.4941C10.8782 11.9994 10.4723 11.6146 9.97861 11.6157ZM14.4984 11.6212C13.9937 11.6322 13.5988 12.039 13.5999 12.5447V12.5568C13.6109 13.0626 14.0278 13.4463 14.5335 13.4353C15.0271 13.4232 15.421 13.0043 15.41 12.4985C15.387 12.0148 14.9909 11.6201 14.4984 11.6212ZM13.2149 3.31045L6.69849 3.31924L6.69958 4.2087C6.69958 4.68256 6.33866 5.05637 5.85597 5.05637C5.37327 5.05747 5.01016 4.68476 5.01016 4.21089L5.00906 3.36432C2.86985 3.57651 1.68615 4.82109 1.68944 7.20579L1.69054 7.54772L18.2996 7.52573V7.14093C18.2524 4.77711 17.0545 3.53693 14.9043 3.35222L14.9054 4.1988C14.9054 4.67156 14.5335 5.04648 14.0618 5.04648C13.5791 5.04757 13.2159 4.67376 13.2159 4.201L13.2149 3.31045Z" fill="#F8F8F8"/>
                </svg>
              </button>
              <div class="sharefav">
                <button class="almindelig_knap">
                  <span id="sharelabel">Share</span>
                  <svg width="21" height="18" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.5 9.77731C0.5 7.68833 2.37791 5.97361 4.73116 5.87734L4.94 5.87307H9.73V11.161C9.73 11.5399 10.07 11.8396 10.5 11.8396C10.885 11.8396 11.2112 11.5878 11.2629 11.2539L11.27 11.161V5.87307H16.05C18.43 5.87307 20.3853 7.52811 20.4951 9.61015L20.5 9.79494V14.087C20.5 16.1845 18.6221 17.8995 16.2688 17.9957L16.06 18H4.95C2.56029 18 0.614098 16.3366 0.504838 14.2622L0.5 14.0781V9.77731ZM7.0502 3.67273C6.76838 3.43649 6.74276 3.06423 6.96583 2.80326L7.0402 2.72856L9.9502 0.199228C10.1002 0.0692967 10.2902 0 10.5002 0C10.6602 0 10.8202 0.0443499 10.9495 0.128615L11.0402 0.199228L13.9502 2.72856C14.1002 2.85849 14.1802 3.03173 14.1802 3.19631C14.1802 3.36955 14.1002 3.5428 13.9502 3.67273C13.6775 3.90897 13.2477 3.93044 12.9464 3.73716L12.8602 3.67273L11.2702 2.28679L11.27 5.87307H9.73L9.7302 2.28679L8.1402 3.67273C7.8402 3.93259 7.3502 3.93259 7.0502 3.67273Z" fill="#535252"/>
                    </svg>
                </button>
                <button class="almindelig_knap">
                  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.52447 3.08156C9.67415 2.6209 10.3259 2.6209 10.4755 3.08156L11.5451 6.37336C11.7459 6.99139 12.3218 7.40983 12.9717 7.40983H16.4329C16.9172 7.40983 17.1186 8.02964 16.7268 8.31434L13.9266 10.3488C13.4009 10.7307 13.1809 11.4078 13.3817 12.0258L14.4513 15.3176C14.6009 15.7783 14.0737 16.1613 13.6818 15.8766L10.8817 13.8422C10.3559 13.4602 9.64405 13.4602 9.11832 13.8422L6.31815 15.8766C5.9263 16.1613 5.39906 15.7783 5.54873 15.3176L6.6183 12.0258C6.81911 11.4078 6.59913 10.7307 6.07339 10.3488L3.27323 8.31434C2.88137 8.02964 3.08276 7.40983 3.56712 7.40983H7.02832C7.67816 7.40983 8.25409 6.99139 8.4549 6.37336L9.52447 3.08156Z" stroke="#535252"/>
                  </svg>
                </button>
              </div>
            </div>
          </li>
          `;
        });
        output += "</ul>";
        document.getElementById("listoutput").innerHTML = output;
      })
      .catch((err) => console.log(err));
  </script>
</html>
