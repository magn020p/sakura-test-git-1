---
const evtime = Astro.props.time;
const evloc = Astro.props.location;
const locref = Astro.props.locationlink;
const title = Astro.props.title;
const imgsrc = Astro.props.imgsrc;
const imgalt = Astro.props.imgalt;
---

<li class="richlistitem">
  <div class="richlistimgcont">
    <img src={imgsrc} alt={imgalt} />
  </div>
  <div class="richlistdata">
    <h3 class="tiletitle">{title}</h3>
    <slot class="tiledesc" name="tiletext" />
    <div class="details">
      <span>{evtime}</span><span> ‚óè</span><a href={locref} slot>{evloc}</a>
    </div>
  </div>
  <div id="interactions">
    <p class="helptext">Access is free to all events</p>
    <button class="primaer_knap">
      <span id="your-desktop">Add to your calendar</span>
      <span id="your-mobile">Add to calendar</span>
      <svg
        width="20"
        height="22"
        viewBox="0 0 20 22"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M14.0552 2.48077e-06C14.5269 -0.00109448 14.8999 0.361724 14.901 0.845481L14.9021 1.67007C17.9628 1.90755 19.9846 3.97231 19.9879 7.13873L20 16.4071C20.0044 19.8594 17.8136 21.9835 14.302 21.989L5.72432 22C2.23467 22.0044 0.0164702 19.8297 0.0120821 16.3675L7.36377e-06 7.20799C-0.00437337 4.02069 1.94615 1.96142 5.00686 1.68326L5.00577 0.858675C5.00467 0.374917 5.36669 0.0109995 5.84938 0.0109995C6.33208 0.00990001 6.6941 0.372718 6.6952 0.856476L6.69629 1.62609L13.2127 1.61729L13.2116 0.84768C13.2105 0.363923 13.5725 0.00110442 14.0552 2.48077e-06ZM14.5028 15.6111H14.4918C13.9872 15.6232 13.5824 16.0421 13.5933 16.5478C13.5944 17.0536 14.0014 17.4702 14.5061 17.4812C15.0206 17.4801 15.4374 17.0613 15.4363 16.5445C15.4363 16.0278 15.0184 15.6111 14.5028 15.6111ZM5.46323 15.6122C4.9586 15.6342 4.56366 16.0531 4.56476 16.5588C4.5878 17.0646 5.00467 17.4604 5.5093 17.4373C6.00407 17.4153 6.3979 16.9964 6.37486 16.4906C6.36389 15.9959 5.95689 15.6111 5.46323 15.6122ZM9.983 15.6067C9.47836 15.6298 9.08453 16.0476 9.08453 16.5533C9.10757 17.0591 9.52444 17.4538 10.0291 17.4318C10.5227 17.4087 10.9177 16.9909 10.8946 16.484C10.8837 15.9904 10.4767 15.6056 9.983 15.6067ZM5.45774 11.6542C4.95311 11.6762 4.55928 12.095 4.56037 12.6008C4.58231 13.1065 5.00028 13.5023 5.50492 13.4792C5.99858 13.4573 6.39241 13.0384 6.36938 12.5326C6.35841 12.0379 5.95251 11.6531 5.45774 11.6542ZM9.97861 11.6157C9.47398 11.6377 9.07904 12.0566 9.08014 12.5623C9.10208 13.0681 9.52005 13.4628 10.0247 13.4408C10.5183 13.4177 10.9122 12.9999 10.8902 12.4941C10.8782 11.9994 10.4723 11.6146 9.97861 11.6157ZM14.4984 11.6212C13.9937 11.6322 13.5988 12.039 13.5999 12.5447V12.5568C13.6109 13.0626 14.0278 13.4463 14.5335 13.4353C15.0271 13.4232 15.421 13.0043 15.41 12.4985C15.387 12.0148 14.9909 11.6201 14.4984 11.6212ZM13.2149 3.31045L6.69849 3.31924L6.69958 4.2087C6.69958 4.68256 6.33866 5.05637 5.85597 5.05637C5.37327 5.05747 5.01016 4.68476 5.01016 4.21089L5.00906 3.36432C2.86985 3.57651 1.68615 4.82109 1.68944 7.20579L1.69054 7.54772L18.2996 7.52573V7.14093C18.2524 4.77711 17.0545 3.53693 14.9043 3.35222L14.9054 4.1988C14.9054 4.67156 14.5335 5.04648 14.0618 5.04648C13.5791 5.04757 13.2159 4.67376 13.2159 4.201L13.2149 3.31045Z"
          fill="#F8F8F8"></path>
      </svg>
    </button>
    <div class="sharefav">
      <button class="almindelig_knap">
        <span id="sharelabel">Share</span>
        <svg
          width="21"
          height="18"
          viewBox="0 0 21 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.5 9.77731C0.5 7.68833 2.37791 5.97361 4.73116 5.87734L4.94 5.87307H9.73V11.161C9.73 11.5399 10.07 11.8396 10.5 11.8396C10.885 11.8396 11.2112 11.5878 11.2629 11.2539L11.27 11.161V5.87307H16.05C18.43 5.87307 20.3853 7.52811 20.4951 9.61015L20.5 9.79494V14.087C20.5 16.1845 18.6221 17.8995 16.2688 17.9957L16.06 18H4.95C2.56029 18 0.614098 16.3366 0.504838 14.2622L0.5 14.0781V9.77731ZM7.0502 3.67273C6.76838 3.43649 6.74276 3.06423 6.96583 2.80326L7.0402 2.72856L9.9502 0.199228C10.1002 0.0692967 10.2902 0 10.5002 0C10.6602 0 10.8202 0.0443499 10.9495 0.128615L11.0402 0.199228L13.9502 2.72856C14.1002 2.85849 14.1802 3.03173 14.1802 3.19631C14.1802 3.36955 14.1002 3.5428 13.9502 3.67273C13.6775 3.90897 13.2477 3.93044 12.9464 3.73716L12.8602 3.67273L11.2702 2.28679L11.27 5.87307H9.73L9.7302 2.28679L8.1402 3.67273C7.8402 3.93259 7.3502 3.93259 7.0502 3.67273Z"
            fill="#535252"></path>
        </svg>
      </button>
      <button class="almindelig_knap">
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.52447 3.08156C9.67415 2.6209 10.3259 2.6209 10.4755 3.08156L11.5451 6.37336C11.7459 6.99139 12.3218 7.40983 12.9717 7.40983H16.4329C16.9172 7.40983 17.1186 8.02964 16.7268 8.31434L13.9266 10.3488C13.4009 10.7307 13.1809 11.4078 13.3817 12.0258L14.4513 15.3176C14.6009 15.7783 14.0737 16.1613 13.6818 15.8766L10.8817 13.8422C10.3559 13.4602 9.64405 13.4602 9.11832 13.8422L6.31815 15.8766C5.9263 16.1613 5.39906 15.7783 5.54873 15.3176L6.6183 12.0258C6.81911 11.4078 6.59913 10.7307 6.07339 10.3488L3.27323 8.31434C2.88137 8.02964 3.08276 7.40983 3.56712 7.40983H7.02832C7.67816 7.40983 8.25409 6.99139 8.4549 6.37336L9.52447 3.08156Z"
            stroke="#535252"></path>
        </svg>
      </button>
    </div>
  </div>
</li>

<style>
  .richlistitem {
    display: flex;
    background-color: var(--bg-rich-list-item);
    box-shadow: var(--rich-list-item-shadow-x) var(--rich-list-item-shadow-y)
      var(--rich-list-item-shadow-blur) var(--rich-list-item-shadow-spread)
      var(--rich-list-item-shadow-color);
    border-radius: var(--br-image);
    text-align: left;
    padding: var(--spacing-min);
    height: 12.5rem;
    align-items: center;
    gap: var(--spacing-normal);
  }
  .richlistimgcont {
    display: flex;
    height: 100%;
    width: 250px;
    overflow: hidden;
    border-radius: var(--br-thumbnail);
    flex-shrink: 0;
  }

  img {
    width: 100%;
    object-fit: cover;
  }

  .richlistdata {
    margin-top: auto;
    flex-grow: 1;
  }
  .sharefav {
    display: flex;
    gap: var(--spacing-normal);
  }

  #interactions {
    align-self: flex-end;
  }

  #your-desktop {
    color: inherit;
    margin: 0;
  }

  #your-mobile {
    display: none;
  }

  @media screen and (max-width: 1024px) {
    .richlistitem {
      display: grid;
      grid: 3fr 1fr / 200px auto;
      align-items: center;
      height: 20vh;
    }
    .richlistimgcont {
      width: auto;
      grid-row: 1/3;
    }
    .richlistdata {
      display: block;
      margin: 0;
      /* max-height: 100%; */
      min-height: 0;
      align-self: flex-end;
    }
    .tiledesc {
      text-overflow: ellipsis;
    }
    .details {
      font-size: (--details-mobile-font-size);
    }
    #interactions {
      grid-column: 2/3;
      display: grid;
      grid: 1rem 1fr / 1;
      /* gap: var(--spacing-normal); */
    }
    #interactions .helptext {
      margin: 0;
      grid-row: 1;
      font-size: (--helptext-mobile-font-size);
    }
    #interactions button,
    #interactions .sharefav {
      grid-row: 2;
    }
    #sharelabel {
      display: none;
    }
    #your-desktop {
      display: none;
    }
    #your-mobile {
      display: inline;
      color: inherit;
    }
  }
</style>
